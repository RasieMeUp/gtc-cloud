spring.profiles.active=base,test

spring.application.name=social

server.port=8003

#eureka client config
eureka.client.service-url.defaultZone = http://localhost:8001/eureka/

#datasource settings
spring.datasource.url=jdbc:mysql://localhost:3306/gtc-social-db?serverTimezone=Asia/Shanghai&useUnicode=true&characterEncoding=utf-8&useSSL=false
spring.datasource.username=root
spring.datasource.password=gtc_cloud@123456
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

#jpa settings
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

#security config
security.oauth2.client.access-token-uri=http://localhost:8002/auth/oauth/check_token
security.oauth2.resource.prefer-token-info=true
security.oauth2.resource.jwt.key-uri=http://localhost:8002/auth/oauth/token_key
security.oauth2.resource.jwt.key-value=jwt-key

# scs rabbitmq 配置
spring.rabbitmq.addresses=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=root
spring.rabbitmq.password=gtc_cloud@123456

spring.rabbitmq.template.mandatory=true
# 消息发送确认
spring.rabbitmq.publisher-confirm-type=correlated
# 消息入队列确认
spring.rabbitmq.publisher-returns=true

# scs 生产者配置 配置exchange的类型和名称，group的配置由消费者配置
# 保证生产者和消费者一致
spring.cloud.stream.bindings.follow-notice-channel.destination=follow-notice-exchange
# 设定 exchange type: fanout,direct,topic,headers
spring.cloud.stream.rabbit.bindings.follow-notice-channel.producer.exchange-type=topic

# scs 分区
#spring.cloud.stream.bindings.follow-notice-channel.producer.partition-count=2
#spring.cloud.stream.bindings.follow-notice-channel.producer.partition-key-expression=1


spring.main.allow-bean-definition-overriding=true

spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB

logging.level.com.fmisser.gtc.social.feign.*=debug
